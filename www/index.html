<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Block Diagram Builder</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">
    <script type="text/javascript" src="assets/bundle.js" charset="utf-8"></script>
</head>
<body>
    <div class="diagram-builder">

        <div id="diagram" class="split split-horizontal"></div>

        <div id="params" class="split split-horizontal vertical" data-bind="with:selectedElement">
            <div class="horizontal">
                <input class="elementId" data-bind="value: id, valueUpdate: 'afterkeydown'" />
                <label class="elementComponent" data-bind="text:component"></label>
            </div>

            <table id="paramsTable" data-bind="visible: $parent.showParams">
                <tbody data-bind="foreach: params">
                <tr>
                    <td data-bind="text: Object.keys($parent)[ Object.values($parent).indexOf($rawData)]" />
                    <td>
                        <div data-bind="if: typeof $rawData.dataType === 'undefined', visible: typeof $rawData.dataType === 'undefined'">
                            <textArea data-bind="stringValue: $rawData, valueUpdate: 'afterkeydown'"></textArea>
                        </div>

                        <div data-bind="if: $rawData.dataType == 'string', visible: $rawData.dataType == 'string'">
                            <textArea data-bind="stringValue: $rawData, valueUpdate: 'afterkeydown'"></textArea>
                        </div>

                        <div data-bind="if: $rawData.dataType == 'integer', visible: $rawData.dataType == 'integer'">
                            <input data-bind="integerValue: $rawData" />
                        </div>

                        <div data-bind="if: $rawData.dataType == 'float', visible: $rawData.dataType == 'float'">
                            <input data-bind="floatValue: $context.$rawData" />
                        </div>

                        <div data-bind="if: $rawData.dataType == 'boolean', visible: $rawData.dataType == 'boolean'">
                            <input type="checkbox" data-bind="checked: $rawData" />
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>

            <div id="codeEditorDiv" data-bind="visible: $parent.showCodeEditor" >
                <textarea id="codeEditor" >
    //test

    var editor = CodeMirror.fromTextArea($('#codeEditor')[0], {
      mode: "javascript",
      theme: "default",
      matchBrackets:true,
      //lineNumbers: true
    });
                </textarea>
            </div>

            <div id="paramsFooter" class="horizontal">
                <label><input type="checkbox" data-bind="checked: $parent.showParams" /> params</label>
                <label><input type="checkbox" data-bind="checked: $parent.showCodeEditor" /> code editor</label>
            </div>
        </div>
    </div>
</body>
</html>